<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°æ¾è³¼è²·ã‚·ã‚¹ãƒ†ãƒ  - å•†å“è©³ç´°</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body class="page-content">
    <main class="main-content">
        <div class="detail-section">
            <div id="productDetail">
                <!-- å•†å“è©³ç´°ãŒå‹•çš„ã«æŒ¿å…¥ã•ã‚Œã‚‹ -->
            </div>
        </div>
    </main>
    
    <script src="../header.js"></script>
    <script>
        // ã‚µãƒ³ãƒ—ãƒ«å•†å“ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿéš›ã«ã¯APIã‹ã‚‰å–å¾—ï¼‰
        const products = {
            1: { id: 1, name: 'ãŠã«ãã‚Šï¼ˆé®­ï¼‰', price: 120, category: 'food', image: 'ğŸ™', 
                 description: 'æ–°é®®ãªé®­ã‚’ä½¿ç”¨ã—ãŸãŠã«ãã‚Šã§ã™ã€‚åŒ—æµ·é“ç”£ã®ãŠç±³ã‚’ä½¿ç”¨ã—ã€ãµã£ãã‚‰ã¨ç‚Šãä¸Šã’ã¾ã—ãŸã€‚', 
                 ingredients: 'ãŠç±³ã€é®­ã€æµ·è‹”ã€å¡©', 
                 allergens: 'ç‰¹ã«ãªã—',
                 nutrition: { calories: 180, protein: 8, fat: 2, carb: 35 }
               },
            2: { id: 2, name: 'ãŠã«ãã‚Šï¼ˆæ¢…ï¼‰', price: 110, category: 'food', image: 'ğŸ™', 
                 description: 'ç´€å·ç”£ã®æ¢…å¹²ã—ã‚’ä½¿ç”¨ã—ãŸã•ã£ã±ã‚Šã¨ã—ãŸå‘³ã‚ã„ã®ãŠã«ãã‚Šã§ã™ã€‚', 
                 ingredients: 'ãŠç±³ã€æ¢…å¹²ã—ã€æµ·è‹”ã€å¡©', 
                 allergens: 'ç‰¹ã«ãªã—',
                 nutrition: { calories: 160, protein: 6, fat: 1, carb: 34 }
               },
            3: { id: 3, name: 'ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ', price: 200, category: 'food', image: 'ğŸ¥ª', 
                 description: 'ãƒãƒ ã¨ãƒãƒ¼ã‚ºã€ãƒ¬ã‚¿ã‚¹ã‚’ã‚µãƒ³ãƒ‰ã—ãŸå®šç•ªã®ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒã§ã™ã€‚', 
                 ingredients: 'ãƒ‘ãƒ³ã€ãƒãƒ ã€ãƒãƒ¼ã‚ºã€ãƒ¬ã‚¿ã‚¹ã€ãƒãƒ¨ãƒãƒ¼ã‚º', 
                 allergens: 'å°éº¦ã€åµã€ä¹³',
                 nutrition: { calories: 280, protein: 15, fat: 12, carb: 28 }
               },
            // ä»–ã®å•†å“ã‚‚åŒæ§˜ã«å®šç¾©...
        };
        
        // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰å•†å“IDã‚’å–å¾—
        function getProductId() {
            const urlParams = new URLSearchParams(window.location.search);
            return parseInt(urlParams.get('id')) || 1;
        }
        
        // ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
        function addToCart(productId) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const product = products[productId];
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(`${product.name} ã‚’ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸï¼`);
        }
        
        // å•†å“è©³ç´°ã‚’è¡¨ç¤º
        function renderProductDetail() {
            const productId = getProductId();
            const product = products[productId];
            
            if (!product) {
                document.getElementById('productDetail').innerHTML = `
                    <div class="error-message">
                        <h2>å•†å“ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</h2>
                        <p>æŒ‡å®šã•ã‚ŒãŸå•†å“ã¯å­˜åœ¨ã—ãªã„ã‹ã€å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚</p>
                        <button onclick="location.href='../menu/index.html'" class="back-to-menu-btn">ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹</button>
                    </div>
                `;
                return;
            }
            
            document.getElementById('productDetail').innerHTML = `
                <div class="product-detail">
                    <div class="product-header">
                        <div class="product-image-large">${product.image}</div>
                        <div class="product-info">
                            <h1 class="product-name">${product.name}</h1>
                            <p class="product-price">Â¥${product.price}</p>
                            <p class="product-description">${product.description}</p>
                            
                            <div class="product-actions">
                                <button class="add-to-cart-btn-large" onclick="addToCart(${product.id})">
                                    ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                                </button>
                                <button class="back-to-menu-btn" onclick="location.href='../menu/index.html'">
                                    ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-details">
                        <div class="detail-section">
                            <h3>åŸææ–™</h3>
                            <p>${product.ingredients}</p>
                        </div>
                        
                        <div class="detail-section">
                            <h3>ã‚¢ãƒ¬ãƒ«ã‚²ãƒ³</h3>
                            <p>${product.allergens}</p>
                        </div>
                        
                        <div class="detail-section">
                            <h3>æ „é¤Šæˆåˆ†ï¼ˆ100gã‚ãŸã‚Šï¼‰</h3>
                            <div class="nutrition-info">
                                <div class="nutrition-item">
                                    <span class="nutrition-label">ã‚«ãƒ­ãƒªãƒ¼:</span>
                                    <span class="nutrition-value">${product.nutrition.calories}kcal</span>
                                </div>
                                <div class="nutrition-item">
                                    <span class="nutrition-label">ã‚¿ãƒ³ãƒ‘ã‚¯è³ª:</span>
                                    <span class="nutrition-value">${product.nutrition.protein}g</span>
                                </div>
                                <div class="nutrition-item">
                                    <span class="nutrition-label">è„‚è³ª:</span>
                                    <span class="nutrition-value">${product.nutrition.fat}g</span>
                                </div>
                                <div class="nutrition-item">
                                    <span class="nutrition-label">ç‚­æ°´åŒ–ç‰©:</span>
                                    <span class="nutrition-value">${product.nutrition.carb}g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // åˆæœŸè¡¨ç¤º
        renderProductDetail();
    </script>
</body>
</html>